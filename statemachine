digraph {
	graph [compound=false concentrate=false rankdir=TB ranksep=0.4]
	process_prompt [label=process_prompt shape=box style=rounded]
	input__prompt [label="input: prompt" shape=oval style=dashed]
	input__prompt -> process_prompt
	check_safety [label=check_safety shape=box style=rounded]
	unsafe_response [label=unsafe_response shape=box style=rounded]
	choose_mode [label=choose_mode shape=box style=rounded]
	generate_code [label=generate_code shape=box style=rounded]
	answer_question [label=answer_question shape=box style=rounded]
	generate_joke [label=generate_joke shape=box style=rounded]
	do_reasoning [label=do_reasoning shape=box style=rounded]
	do_search [label=do_search shape=box style=rounded]
	prompt_for_more [label=prompt_for_more shape=box style=rounded]
	process_prompt -> check_safety [style=solid]
	check_safety -> choose_mode [label="safe=True" style=dashed]
	check_safety -> unsafe_response [style=solid]
	choose_mode -> generate_code [label="mode=generate_code" style=dashed]
	choose_mode -> answer_question [label="mode=answer_question" style=dashed]
	choose_mode -> generate_joke [label="mode=generate_joke" style=dashed]
	choose_mode -> do_search [label="mode=do_search" style=dashed]
	choose_mode -> do_reasoning [label="mode=do_reasoning" style=dashed]
	choose_mode -> prompt_for_more [style=solid]
	answer_question -> process_prompt [style=solid]
	generate_joke -> process_prompt [style=solid]
	generate_code -> process_prompt [style=solid]
	prompt_for_more -> process_prompt [style=solid]
	unsafe_response -> process_prompt [style=solid]
	do_search -> process_prompt [style=solid]
	do_reasoning -> process_prompt [style=solid]
}
